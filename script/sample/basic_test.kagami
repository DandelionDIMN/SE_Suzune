fn Greet(name)
  println('Hello,' + name)
  println('Print end.')
end

fn CalcTest()
  result0 = 1 - 2 - 3
  result1 = 1 - (2 - 3)
  println(1+2*5)
  
  if result0 != -4
    println('Calc is broken.')
  else
    println('1-2-3=' + result0)
  end
  
  if result1 != 2
    println('Calc is broken.')
  else
    println('1-(2-3)=' + result1)
  end 
  
  println('CalcTest end.')
end

fn LogicTest()
  result0 = true && false
  result1 = true && true
  result2 = true || false
  result3 = false|| true
  println(result0)
  println(result1)
  println(result2)
  println(result3)
  println('LogicTest end.')
end

fn TypeTest()
  str0 = '123'
  ar = array(10,0)
  println('TypeId of str0:' + typeid(str0))
  println('TypeId of ar:' + typeid(ar))
  println('TypeTest end.')
end

fn ArrayTest()
  ar = array(5,'hello')
  println('Array size:' + ar.size())
  println(ar)
  i = 0
  
  while i < 5
    ar[i] = ar[i] + ' Loop x' + i
    i = i + 1
  end
  
  println(ar)
  println('ArrayTest end.')
end

fn StringTest()
  origin = input('Input a string (size>10) : ')
  str = string(origin)
  println('String size:' + str.size())
  println('String stuff:')
  println(str)
  println(str.substr(1,6))
  println('StringTest end.')
end

fn Menu()
  choice = convert(input('> '))
  return choice
end

fn main()
  flag = 0
  println('Menu:\n1.Print Test\n2.Calculator Test')
  println('3.Logic Test\n4.Type Test\n5.Array Test\n6.String Test\n0.Quit')
  
  while flag != 1
    choice = Menu()
    
    case choice 
    when 1
      Greet(input('What\'s your name? > '))
    when 2
      CalcTest()
    when 3
      LogicTest()
    when 4
      TypeTest()
    when 5
      ArrayTest()
    when 6
      StringTest()
    when 0
      flag = 1
    end
    
  end

  input('Press enter to exit...')
end

main()
